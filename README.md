# Agentic Expense & Fraud Monitoring Agent

An autonomous AI agent system for SMBs and fintech platforms to monitor expenses, detect fraud, and manage compliance automatically.

## Features

- **Multi-Agent System**: Coordinated agents for ingestion, classification, anomaly detection, reconciliation, and reporting
- **Real-time Monitoring**: Continuous transaction monitoring with anomaly detection
- **Intelligent Classification**: LLM-powered transaction categorization
- **Document Processing**: Automated receipt/invoice parsing and reconciliation
- **Alert System**: Proactive alerts for high-risk transactions and anomalies
- **Automated Reporting**: Natural language report generation
- **Feedback Loop**: Learning from user corrections to improve accuracy

## Architecture

### Agents

1. **Data Retriever Agent**: Fetches transactions from connected systems
2. **Parser Agent**: Processes receipts/invoices using LLM + OCR
3. **Classifier Agent**: Categorizes transactions intelligently
4. **Anomaly Agent**: Detects fraud and outliers using statistical methods
5. **Reconciler Agent**: Matches receipts to transactions
6. **Decision Agent**: Reasons about risk and recommends actions
7. **Notifier Agent**: Sends alerts and notifications
8. **Reporter Agent**: Generates automated reports
9. **Feedback Agent**: Captures and learns from user feedback

### Tech Stack

- **Backend**: FastAPI (Python)
- **Frontend**: React + TypeScript
- **LLM**: OpenAI API (configurable for Gemini/Claude)
- **Database**: PostgreSQL (SQLite for development)
- **Agent Framework**: LangChain
- **Storage**: Local filesystem (S3-compatible for production)

## Quick Start

### Prerequisites

- Python 3.9+
- Node.js 18+
- OpenAI API key

### Option 1: One-Command Start (Recommended)

**On macOS/Linux:**
```bash
./start.sh
```

**On Windows:**
```bash
start.bat
```

This script will:
- ✅ Create virtual environment if needed
- ✅ Install all dependencies
- ✅ Initialize database and create admin user
- ✅ Start both backend and frontend servers

### Option 2: Manual Setup

#### Backend Setup

1. Navigate to backend directory:
```bash
cd backend
```

2. Create virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Create `.env` file (copy from `.env.example`):
```bash
cp .env.example .env
```

5. Edit `.env` and add your OpenAI API key:
```
OPENAI_API_KEY=your_openai_api_key_here
```

6. Initialize database and create admin user:
```bash
python setup.py
```

7. Start the server:
```bash
uvicorn app.main:app --reload
```

The API will be available at `http://localhost:8000`

#### Frontend Setup

1. Navigate to frontend directory:
```bash
cd frontend
```

2. Install dependencies:
```bash
npm install
```

3. Start development server:
```bash
npm run dev
```

The frontend will be available at `http://localhost:3000`

## Viewing the Application

Once both servers are running:

1. **Open your web browser** and navigate to:
   ```
   http://localhost:3000
   ```

2. **Login** with the default credentials:
   - Email: `admin@example.com`
   - Password: `admin123`

3. **Explore the features:**
   - **Dashboard**: View statistics, anomalies, and category breakdowns
   - **Transactions**: See all transactions with classifications and anomaly flags
   - **Alerts**: Review risk alerts and recommendations
   - **Reports**: View automated reports generated by the agent system

4. **API Documentation**: Visit `http://localhost:8000/docs` for interactive API documentation

### Default Login Credentials

After running `setup.py`, you can login with:
- Email: `admin@example.com`
- Password: `admin123`

⚠️ **Important**: Change the password after first login!

## Application URLs

When running, the application is available at:

- **Frontend (Main App)**: http://localhost:3000
- **Backend API**: http://localhost:8000
- **API Documentation (Swagger)**: http://localhost:8000/docs
- **Alternative API Docs (ReDoc)**: http://localhost:8000/redoc

## Features Overview

### Dashboard
- Real-time statistics (total transactions, amounts, anomalies)
- Category breakdown visualization
- Alert summary
- Recent activity overview

### Transactions
- View all transactions with intelligent categorization
- See anomaly flags and risk scores
- Filter by status, category, or anomaly status
- Transaction details with classification confidence

### Alerts
- Real-time alerts for high-risk transactions
- Severity levels (Low, Medium, High, Critical)
- Recommendations for each alert
- Mark alerts as read/resolved

### Reports
- Automated weekly/monthly reports
- Natural language summaries
- Category breakdowns
- Anomaly analysis
- Insights and recommendations

### Agent System
The backend runs 9 specialized AI agents:
1. **Data Retriever**: Fetches transactions from external systems
2. **Parser**: Processes receipts/invoices with LLM + OCR
3. **Classifier**: Intelligently categorizes transactions
4. **Anomaly**: Detects fraud using statistical methods
5. **Reconciler**: Matches receipts to transactions
6. **Decision**: Reasons about risk and recommends actions
7. **Notifier**: Sends alerts and notifications
8. **Reporter**: Generates automated reports
9. **Feedback**: Learns from user corrections

## API Documentation

Once running, visit `http://localhost:8000/docs` for interactive API documentation with Swagger UI, where you can test all endpoints directly.

## License

MIT

